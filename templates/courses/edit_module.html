{% extends 'base.html' %}

{% block title %}Edit Module - Instructor Dashboard{% endblock %}

{% block content %}
<h1>Edit Module: {{ module.title }}</h1>

<form method="post">
    {% csrf_token %}
    <div class="mb-3">
        <label for="{{ form.title.id_for_label }}" class="form-label">Module Title</label>
        <input type="text" class="form-control" id="{{ form.title.id_for_label }}" name="{{ form.title.html_name }}" value="{{ form.title.value|default:'' }}">
        {% if form.title.errors %}
            <div class="text-danger">{{ form.title.errors }}</div>
        {% endif %}
    </div>
    
    <div class="mb-3">
        <label for="{{ form.description.id_for_label }}" class="form-label">Description</label>
        <textarea class="form-control" id="{{ form.description.id_for_label }}" name="{{ form.description.html_name }}" rows="3">{{ form.description.value|default:'' }}</textarea>
        {% if form.description.errors %}
            <div class="text-danger">{{ form.description.errors }}</div>
        {% endif %}
    </div>
    
    <div class="mb-3">
        <label for="{{ form.order.id_for_label }}" class="form-label">Order</label>
        <input type="number" class="form-control" id="{{ form.order.id_for_label }}" name="{{ form.order.html_name }}" min="0" value="{{ form.order.value|default:'0' }}">
        {% if form.order.errors %}
            <div class="text-danger">{{ form.order.errors }}</div>
        {% endif %}
    </div>
    
    <div class="mb-3">
        <label for="{{ form.duration_days.id_for_label }}" class="form-label">Duration (Days)</label>
        <input type="number" class="form-control" id="{{ form.duration_days.id_for_label }}" name="{{ form.duration_days.html_name }}" min="1" value="{{ form.duration_days.value|default:'7' }}">
        <div class="form-text">Number of days students have to complete this module</div>
        {% if form.duration_days.errors %}
            <div class="text-danger">{{ form.duration_days.errors }}</div>
        {% endif %}
    </div>
    
    <div class="d-flex justify-content-between">
        {% if course.slug %}
            <a href="{% url 'courses:edit_course' slug=course.slug %}" class="btn btn-secondary">Cancel</a>
        {% else %}
            <a href="{% url 'courses:instructor_courses' %}" class="btn btn-secondary">Cancel</a>
        {% endif %}
        <button type="submit" class="btn btn-primary">Update Module</button>
    </div>
</form>
{% endblock %}